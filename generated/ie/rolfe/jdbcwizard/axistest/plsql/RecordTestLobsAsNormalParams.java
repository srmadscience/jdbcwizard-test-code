package ie.rolfe.jdbcwizard.axistest.plsql;

import java.sql.*; 
import oracle.jdbc.OracleTypes;
import com.orindasoft.pub.LogInterface; 
import com.orindasoft.pub.StatsInterface; 
import com.orindasoft.pub.OracleResourceUser; 
import com.orindasoft.pub.CSException; 
             
/** 
* RecordTestLobsAsNormalParams - Access Procedure RECORD_TEST.LOBS_AS_NORMAL_PARAMS
* Generated by JDBCWizard 6.0.3145 build 3145 at 2025/11/14 10:20:14.96 EST
*/ 
public class RecordTestLobsAsNormalParams extends AbstractProcCall implements OracleResourceUser, StatsInterface 
{
  public String filenamePInClob = null;
  public char[] byteArrayPInClob = null;
  public oracle.sql.CLOB lobPInClob = null;
  public String filenamePInoutClob = null;
  public char[] byteArrayPInoutClob = null;
  public oracle.sql.CLOB lobPInoutClob = null;
  public String filenamePOutClob = null;
  public char[] byteArrayPOutClob = null;
  public oracle.sql.CLOB lobPOutClob = null;
  public String filenamePInBlob = null;
  public byte[] byteArrayPInBlob = null;
  public oracle.sql.BLOB lobPInBlob = null;
  public String filenamePInoutBlob = null;
  public byte[] byteArrayPInoutBlob = null;
  public oracle.sql.BLOB lobPInoutBlob = null;
  public String filenamePOutBlob = null;
  public byte[] byteArrayPOutBlob = null;
  public oracle.sql.BLOB lobPOutBlob = null;
  public java.io.File paramPInClob = null;
  public java.io.File paramPInoutClob = null;
  public java.io.File paramPOutClob = null;
  public java.io.File paramPInBlob = null;
  public java.io.File paramPInoutBlob = null;
  public java.io.File paramPOutBlob = null;
  
  protected int bufferSize = 4096;
  
  protected boolean keepLobs = false;
  
  protected boolean useByteArraysForLongsAndLOBS = false;
  
  protected boolean keepFiles = true;
  
  protected java.io.File tempFileDir = new java.io.File (System.getProperty("user.dir"));
  
  protected com.orindasoft.pub.LongObjectLoader objectLoader = new com.orindasoft.pub.LongObjectLoader();
  
  protected String tempFilePrefix = "OSOFT";
  
  protected String tempFileSuffix = ".tmp";
  
  protected boolean createTempLobsIfNeeded = true;
  
  protected boolean deleteTempLobsAfterCall = false;
   
  public static final String procName = "RECORD_TEST.LOBS_AS_NORMAL_PARAMS";   
                                                    
  public static final int PROC_TYPE = AbstractProcCall.THIS_USERS_OBJECT; 
   
  private StringBuffer procCall = null;
   
  public RecordTestLobsAsNormalParams (Connection theConnection, LogInterface theLog) 
    {                                                             
    super(theConnection, theLog);                                 
    theLog.debug("RecordTestLobsAsNormalParams started");  //DEBUG                  
    }                                                             
   
   
  public void setParamPInClob(java.io.File paramPInClob)
    {
    this.paramPInClob = paramPInClob;
    }
   
  public void setParamPInClob(String paramPInClob) throws com.orindasoft.pub.CSException
    {
    if (useByteArraysForLongsAndLOBS)
      {
      byteArrayPInClob = paramPInClob.toCharArray();
      }
    else
      {
      java.io.File tempFile = com.orindasoft.pub.IOUtils.loadStringIntoFile(paramPInClob, tempFilePrefix, tempFileSuffix, tempFileDir.getAbsolutePath(), theLog);
      setParamPInClob(tempFile);
      }
    }
   
  public void setParamPInClob(char[] paramPInClob) throws com.orindasoft.pub.CSException
    {
    if (useByteArraysForLongsAndLOBS)
      {
      byteArrayPInClob = paramPInClob;
      }
    else
      {
      java.io.File tempFile = com.orindasoft.pub.IOUtils.loadCharArrayIntoFile(paramPInClob, tempFilePrefix, tempFileSuffix, tempFileDir.getAbsolutePath(), theLog);
      setParamPInClob(tempFile);
      }
    }
   
  public void setParamPInClob(oracle.sql.CLOB lobPInClob)
    {
    this.lobPInClob = lobPInClob;
    }
   
  public void setParamPInClobToNull()
    {
    this.paramPInClob = null;
    }
   
  public void setLobPInClobToNull()
    {
    this.lobPInClob = null;
    }
   
  public void setParamPInoutClob(java.io.File paramPInoutClob)
    {
    this.paramPInoutClob = paramPInoutClob;
    
    if (paramPInoutClob == null) 
      {                          
      filenamePInoutClob = null; 
      }    
    else 
      { 
      filenamePInoutClob = this.paramPInoutClob.getAbsolutePath();
      }
    }
   
  public void setParamPInoutClob(String paramPInoutClob) throws com.orindasoft.pub.CSException
    {
    if (useByteArraysForLongsAndLOBS)
      {
      byteArrayPInoutClob = paramPInoutClob.toCharArray();
      }
    else
      {
      java.io.File tempFile = com.orindasoft.pub.IOUtils.loadStringIntoFile(paramPInoutClob, tempFilePrefix, tempFileSuffix, tempFileDir.getAbsolutePath(), theLog);
      setParamPInoutClob(tempFile);
      }
    }
   
  public void setParamPInoutClob(char[] paramPInoutClob) throws com.orindasoft.pub.CSException
    {
    if (useByteArraysForLongsAndLOBS)
      {
      byteArrayPInoutClob = paramPInoutClob;
      }
    else
      {
      java.io.File tempFile = com.orindasoft.pub.IOUtils.loadCharArrayIntoFile(paramPInoutClob, tempFilePrefix, tempFileSuffix, tempFileDir.getAbsolutePath(), theLog);
      setParamPInoutClob(tempFile);
      }
    }
   
  public void setParamPInoutClob(oracle.sql.CLOB lobPInoutClob)
    {
    this.lobPInoutClob = lobPInoutClob;
    }
   
  public void setParamPInoutClobToNull()
    {
    this.paramPInoutClob = null;
    }
   
  public void setLobPInoutClobToNull()
    {
    this.lobPInoutClob = null;
    }
   
  public void setParamPInBlob(java.io.File paramPInBlob)
    {
    this.paramPInBlob = paramPInBlob;
    }
   
  public void setParamPInBlob(byte[] paramPInBlob) throws com.orindasoft.pub.CSException
    {
    if (useByteArraysForLongsAndLOBS)
      {
      byteArrayPInBlob = paramPInBlob;
      }
    else
      {
      java.io.File tempFile = com.orindasoft.pub.IOUtils.loadByteArrayIntoFile(paramPInBlob, tempFilePrefix, tempFileSuffix, tempFileDir.getAbsolutePath(), theLog);
      setParamPInBlob(tempFile);
      }
    }
   
  public void setParamPInBlob(oracle.sql.BLOB lobPInBlob)
    {
    this.lobPInBlob = lobPInBlob;
    }
   
  public void setParamPInBlobToNull()
    {
    this.paramPInBlob = null;
    }
   
  public void setLobPInBlobToNull()
    {
    this.lobPInBlob = null;
    }
   
  public void setParamPInoutBlob(java.io.File paramPInoutBlob)
    {
    this.paramPInoutBlob = paramPInoutBlob;
    
    if (paramPInoutBlob == null) 
      {                          
      filenamePInoutBlob = null; 
      }    
    else 
      { 
      filenamePInoutBlob = this.paramPInoutBlob.getAbsolutePath();
      }
    }
   
  public void setParamPInoutBlob(byte[] paramPInoutBlob) throws com.orindasoft.pub.CSException
    {
    if (useByteArraysForLongsAndLOBS)
      {
      byteArrayPInoutBlob = paramPInoutBlob;
      }
    else
      {
      java.io.File tempFile = com.orindasoft.pub.IOUtils.loadByteArrayIntoFile(paramPInoutBlob, tempFilePrefix, tempFileSuffix, tempFileDir.getAbsolutePath(), theLog);
      setParamPInoutBlob(tempFile);
      }
    }
   
  public void setParamPInoutBlob(oracle.sql.BLOB lobPInoutBlob)
    {
    this.lobPInoutBlob = lobPInoutBlob;
    }
   
  public void setParamPInoutBlobToNull()
    {
    this.paramPInoutBlob = null;
    }
   
  public void setLobPInoutBlobToNull()
    {
    this.lobPInoutBlob = null;
    }
  
  public void setBufferSize(int bufferSize)
    {
    this.bufferSize = bufferSize;
    theLog.debug("bufferSize set to " + bufferSize);
    }
  
  public void setKeepLobs(boolean keepLobs )
    {
    this.keepLobs = keepLobs;
    theLog.debug("keepLobs set to " + keepLobs);
    }
  
  public void setUseByteArraysForLongsAndLOBS(boolean useByteArraysForLongsAndLOBS)
    {
    this.useByteArraysForLongsAndLOBS = useByteArraysForLongsAndLOBS;
    theLog.debug("useByteArraysForLongsAndLOBSset to " + useByteArraysForLongsAndLOBS);
    }
  
  public void setKeepFiles(boolean keepFiles )
    {
    this.keepFiles = keepFiles;
    theLog.debug("keepFiles set to " + keepFiles);
    }
  
  public void deleteGeneratedFiles()
    {
    theLog.debug("Starting to delete files if they exist");
    theLog.debug("Delete file paramPOutClob if it exists ");
    if (paramPOutClob != null)
      {
      if (paramPOutClob.exists())
        {
        theLog.debug("Deleting file paramPOutClob");
        paramPOutClob.delete();
        }
      }
     
    theLog.debug("Delete file paramPOutBlob if it exists ");
    if (paramPOutBlob != null)
      {
      if (paramPOutBlob.exists())
        {
        theLog.debug("Deleting file paramPOutBlob");
        paramPOutBlob.delete();
        }
      }
     
    theLog.debug("Finished deleting files");
    }
  
  public void setTempDir(java.io.File tempFileDir) throws CSException
    {
    if (tempFileDir == null)                                   
      {                                                             
      throw (new CSException("Attempt made to set tempFileDir to null")); 
      }                                      
    else if (! tempFileDir.exists())       
      {       
      try    
        {     
        theLog.info("Creating temporary directory " + tempFileDir.getAbsolutePath()); 
        tempFileDir.mkdirs(); 
        }  
      catch (Exception e) 
        { 
        throw (new CSException("tempFileDir " + tempFileDir.getAbsolutePath() + " can not be created"));  
        } 
      }  
    
    this.tempFileDir = tempFileDir;
    theLog.debug("tempFileDir set to " + tempFileDir.getAbsolutePath());
    }
  
  public void setTempFilePrefix(String tempFilePrefix)
    {
    this.tempFilePrefix = tempFilePrefix;
    }
  
  public void setTempFileSuffix(String tempFileSuffix)
    {
    this.tempFileSuffix = tempFileSuffix;
    }
  
  public void setFilenamePInoutClob (String filenamePInoutClob)
    {
    this.filenamePInoutClob = filenamePInoutClob;
    theLog.debug("filenamePInoutClob set to " + filenamePInoutClob);
    }
  
  public void setFilenamePOutClob (String filenamePOutClob)
    {
    this.filenamePOutClob = filenamePOutClob;
    theLog.debug("filenamePOutClob set to " + filenamePOutClob);
    }
  
  public void setFilenamePInoutBlob (String filenamePInoutBlob)
    {
    this.filenamePInoutBlob = filenamePInoutBlob;
    theLog.debug("filenamePInoutBlob set to " + filenamePInoutBlob);
    }
  
  public void setFilenamePOutBlob (String filenamePOutBlob)
    {
    this.filenamePOutBlob = filenamePOutBlob;
    theLog.debug("filenamePOutBlob set to " + filenamePOutBlob);
    }
  
  public void setCreateTempLobsIfNeeded(boolean  createTempLobsIfNeeded)
    {
    this.createTempLobsIfNeeded = createTempLobsIfNeeded;
    }
  
  public void setDeleteTempLobsAfterCall(boolean  deleteTempLobsAfterCall)
    {
    this.deleteTempLobsAfterCall = deleteTempLobsAfterCall;
    }
   
   
  public java.io.File getParamPInoutClobFile() 
    {
    return (paramPInoutClob);
    }
   
  public char[] getParamPInoutClobByteArray() 
    {
    return (byteArrayPInoutClob);
    }
   
  public oracle.sql.CLOB getParamPInoutClobClob() 
    {
    return (lobPInoutClob);
    }
   
  public java.io.File getParamPOutClobFile() 
    {
    return (paramPOutClob);
    }
   
  public char[] getParamPOutClobByteArray() 
    {
    return (byteArrayPOutClob);
    }
   
  public oracle.sql.CLOB getParamPOutClobClob() 
    {
    return (lobPOutClob);
    }
   
  public java.io.File getParamPInoutBlobFile() 
    {
    return (paramPInoutBlob);
    }
   
  public byte[] getParamPInoutBlobByteArray() 
    {
    return (byteArrayPInoutBlob);
    }
   
  public oracle.sql.BLOB getParamPInoutBlobBlob() 
    {
    return (lobPInoutBlob);
    }
   
  public java.io.File getParamPOutBlobFile() 
    {
    return (paramPOutBlob);
    }
   
  public byte[] getParamPOutBlobByteArray() 
    {
    return (byteArrayPOutBlob);
    }
   
  public oracle.sql.BLOB getParamPOutBlobBlob() 
    {
    return (lobPOutBlob);
    }
  
  public int getBufferSize()
    {
    return (bufferSize);
    }
  
  public boolean getKeepLobs()
    {
    return (keepLobs);
    }
  
  public boolean getUseByteArraysForLongsAndLOBS()
    {
    return (useByteArraysForLongsAndLOBS);
    }
  
  public boolean getKeepFiles()
    {
    return (keepFiles);
    }
  
  public java.io.File getTempFileDir()
    {
    return(tempFileDir);
    }
  
  public String getTempFilePrefix()
    {
    return (tempFilePrefix);
    }
  
  public String getTempFileSuffix()
    {
    return (tempFileSuffix);
    }
   
                                                                          
  protected void getStatementResults()  throws CSException 
    {                                                                   
    theLog.debug("Starting to unload data");
    startStatsTimer();
    objectLoader.setBufferSize(bufferSize);
    objectLoader.setKeepFiles(keepFiles);
    
    theParameters.unloadParameters(theCallableStatement); 
    
                                         
    if (! useByteArraysForLongsAndLOBS)    
      {                                      
      if (filenamePInoutClob == null)    
        {                                      
        try                                    
          {                                      
          paramPInoutClob = java.io.File.createTempFile(tempFilePrefix,tempFileSuffix,tempFileDir);   
          }                                                                             
        catch (java.io.IOException e)     
          {                                 
          throw new CSException("Unable to create temp file in " + tempFileDir.getAbsolutePath());   
          }       
        }       
      else    
        {    
        paramPInoutClob = new java.io.File(filenamePInoutClob);    
                                                  
        if (! paramPInoutClob.isAbsolute())
          {
          paramPInoutClob = new java.io.File(tempFileDir,filenamePInoutClob);
          }
                                                  
        if (paramPInoutClob.exists()  && ! paramPInoutClob.canWrite())    
          {                                   
          throw new CSException("Can not write to file " + paramPInoutClob.getAbsolutePath() + " - not writable"); 
          }                                      
                                            
        if (paramPInoutClob.isDirectory())   
          {    
          throw new CSException("Can not write to file " + paramPInoutClob.getAbsolutePath() + " - is a Directory"); 
          } 
          
        } 
          
      
      theLog.debug("Unloading parameter paramPInoutClob to file " + paramPInoutClob.getAbsolutePath() );
      
      } 
    else
      {    
      theLog.debug("Unloading parameter paramPInoutClob to array " );
      } 
    
    try  
      { 
      lobPInoutClob =  (oracle.sql.CLOB)theParameters.getParam(2);    
      if (lobPInoutClob != null && useByteArraysForLongsAndLOBS)
        { 
        byteArrayPInoutClob = objectLoader.unloadClobIntoCharArray(lobPInoutClob);
        }
      else if (lobPInoutClob != null && (! keepLobs))
        { 
        paramPInoutClob = objectLoader.unloadClob(paramPInoutClob, lobPInoutClob);   
        }
      }                        
    catch (Exception e)   
      {                                 
      throw (new CSException(paramPInoutClob + " could not be unloaded:" + e.toString()));  
      }    
    
                                         
    if (! useByteArraysForLongsAndLOBS)    
      {                                      
      if (filenamePOutClob == null)    
        {                                      
        try                                    
          {                                      
          paramPOutClob = java.io.File.createTempFile(tempFilePrefix,tempFileSuffix,tempFileDir);   
          }                                                                             
        catch (java.io.IOException e)     
          {                                 
          throw new CSException("Unable to create temp file in " + tempFileDir.getAbsolutePath());   
          }       
        }       
      else    
        {    
        paramPOutClob = new java.io.File(filenamePOutClob);    
                                                  
        if (! paramPOutClob.isAbsolute())
          {
          paramPOutClob = new java.io.File(tempFileDir,filenamePOutClob);
          }
                                                  
        if (paramPOutClob.exists()  && ! paramPOutClob.canWrite())    
          {                                   
          throw new CSException("Can not write to file " + paramPOutClob.getAbsolutePath() + " - not writable"); 
          }                                      
                                            
        if (paramPOutClob.isDirectory())   
          {    
          throw new CSException("Can not write to file " + paramPOutClob.getAbsolutePath() + " - is a Directory"); 
          } 
          
        } 
          
      
      theLog.debug("Unloading parameter paramPOutClob to file " + paramPOutClob.getAbsolutePath() );
      
      } 
    else
      {    
      theLog.debug("Unloading parameter paramPOutClob to array " );
      } 
    
    try  
      { 
      lobPOutClob =  (oracle.sql.CLOB)theParameters.getParam(3);    
      if (lobPOutClob != null && useByteArraysForLongsAndLOBS)
        { 
        byteArrayPOutClob = objectLoader.unloadClobIntoCharArray(lobPOutClob);
        }
      else if (lobPOutClob != null && (! keepLobs))
        { 
        paramPOutClob = objectLoader.unloadClob(paramPOutClob, lobPOutClob);   
        }
      }                        
    catch (Exception e)   
      {                                 
      throw (new CSException(paramPOutClob + " could not be unloaded:" + e.toString()));  
      }    
    
                                         
    if (! useByteArraysForLongsAndLOBS)    
      {                                      
      if (filenamePInoutBlob == null)    
        {                                      
        try                                    
          {                                      
          paramPInoutBlob = java.io.File.createTempFile(tempFilePrefix,tempFileSuffix,tempFileDir);   
          }                                                                             
        catch (java.io.IOException e)     
          {                                 
          throw new CSException("Unable to create temp file in " + tempFileDir.getAbsolutePath());   
          }       
        }       
      else    
        {    
        paramPInoutBlob = new java.io.File(filenamePInoutBlob);    
                                                  
        if (! paramPInoutBlob.isAbsolute())
          {
          paramPInoutBlob = new java.io.File(tempFileDir,filenamePInoutBlob);
          }
                                                  
        if (paramPInoutBlob.exists()  && ! paramPInoutBlob.canWrite())    
          {                                   
          throw new CSException("Can not write to file " + paramPInoutBlob.getAbsolutePath() + " - not writable"); 
          }                                      
                                            
        if (paramPInoutBlob.isDirectory())   
          {    
          throw new CSException("Can not write to file " + paramPInoutBlob.getAbsolutePath() + " - is a Directory"); 
          } 
          
        } 
          
      
      theLog.debug("Unloading parameter paramPInoutBlob to file " + paramPInoutBlob.getAbsolutePath() );
      
      } 
    else
      {    
      theLog.debug("Unloading parameter paramPInoutBlob to array " );
      } 
    
    try  
      { 
      lobPInoutBlob =  (oracle.sql.BLOB)theParameters.getParam(5);    
      if (lobPInoutBlob != null && useByteArraysForLongsAndLOBS)
        { 
        byteArrayPInoutBlob = objectLoader.unloadBinaryStreamIntoByteArray(lobPInoutBlob.getBinaryStream(),"BLOB");   
        }
      else if (lobPInoutBlob != null && (! keepLobs))
        { 
        paramPInoutBlob = objectLoader.unloadBinaryStream(paramPInoutBlob,lobPInoutBlob.getBinaryStream(),"BLOB");   
        }
      }                        
    catch (java.sql.SQLException e)   
      {                                 
      throw (new CSException(paramPInoutBlob + " could not be unloaded:" + e.toString()));  
      }    
    
                                         
    if (! useByteArraysForLongsAndLOBS)    
      {                                      
      if (filenamePOutBlob == null)    
        {                                      
        try                                    
          {                                      
          paramPOutBlob = java.io.File.createTempFile(tempFilePrefix,tempFileSuffix,tempFileDir);   
          }                                                                             
        catch (java.io.IOException e)     
          {                                 
          throw new CSException("Unable to create temp file in " + tempFileDir.getAbsolutePath());   
          }       
        }       
      else    
        {    
        paramPOutBlob = new java.io.File(filenamePOutBlob);    
                                                  
        if (! paramPOutBlob.isAbsolute())
          {
          paramPOutBlob = new java.io.File(tempFileDir,filenamePOutBlob);
          }
                                                  
        if (paramPOutBlob.exists()  && ! paramPOutBlob.canWrite())    
          {                                   
          throw new CSException("Can not write to file " + paramPOutBlob.getAbsolutePath() + " - not writable"); 
          }                                      
                                            
        if (paramPOutBlob.isDirectory())   
          {    
          throw new CSException("Can not write to file " + paramPOutBlob.getAbsolutePath() + " - is a Directory"); 
          } 
          
        } 
          
      
      theLog.debug("Unloading parameter paramPOutBlob to file " + paramPOutBlob.getAbsolutePath() );
      
      } 
    else
      {    
      theLog.debug("Unloading parameter paramPOutBlob to array " );
      } 
    
    try  
      { 
      lobPOutBlob =  (oracle.sql.BLOB)theParameters.getParam(6);    
      if (lobPOutBlob != null && useByteArraysForLongsAndLOBS)
        { 
        byteArrayPOutBlob = objectLoader.unloadBinaryStreamIntoByteArray(lobPOutBlob.getBinaryStream(),"BLOB");   
        }
      else if (lobPOutBlob != null && (! keepLobs))
        { 
        paramPOutBlob = objectLoader.unloadBinaryStream(paramPOutBlob,lobPOutBlob.getBinaryStream(),"BLOB");   
        }
      }                        
    catch (java.sql.SQLException e)   
      {                                 
      throw (new CSException(paramPOutBlob + " could not be unloaded:" + e.toString()));  
      }    
     
    
    if (deleteTempLobsAfterCall)    
      {
      try
        {
        if (lobPInClob.isTemporary())    
          {
          lobPInClob.freeTemporary();
          }
     
        if (lobPInoutClob.isTemporary())    
          {
          lobPInoutClob.freeTemporary();
          }
     
        if (lobPInBlob.isTemporary())    
          {
          lobPInBlob.freeTemporary();
          }
     
        if (lobPInoutBlob.isTemporary())    
          {
          lobPInoutBlob.freeTemporary();
          }
     
        }
      catch (SQLException e) 
        {
        theLog.warning("getStatementResults: Unable to release temporary LOBS:" + e.toString()); 
        }
      }
     
    try 
      { 
      theCallableStatement.clearParameters(); 
      theParameters.clearParameters(); 
      } 
    catch (SQLException e) 
      {
      throw (new CSException("getStatementResults: Unable to clear parameters:" + e.toString())); 
      }
    incRetrieveTime();
    theLog.debug("Finished unloading data");
    }     
            
                                                                          
                                                                          
  protected void bindParams() throws CSException 
    {                                                                   
    theLog.debug("Starting to bind parameters");
    
    theLog.debug("binding input parameter paramPInClob to position 1");
    try  
      {  
      if (paramPInClob != null || byteArrayPInClob != null)
        {                 
        if (lobPInClob == null)
          {                 
          if (createTempLobsIfNeeded)
            {                 
            lobPInClob = oracle.sql.CLOB.createTemporary(theConnection, true, oracle.sql.CLOB.DURATION_SESSION);
            }                 
          else
            {                 
            throw (new CSException("No LOB Pointer Provided"));
            }                 
          }                 
           
        if (   byteArrayPInClob != null && lobPInClob.length() > byteArrayPInClob.length      
            || paramPInClob != null && lobPInClob.length() > paramPInClob.length())      
          {                                                                                                                   
          lobPInClob.truncate(0);   
          } 
        if (byteArrayPInClob != null)
          {                                                                                                                   
          com.orindasoft.pub.LongObjectLoader.loadCLOB(lobPInClob,byteArrayPInClob);     
          } 
        else
          {                                                                                                                   
          com.orindasoft.pub.LongObjectLoader.loadCLOB(lobPInClob,paramPInClob,bufferSize);     
          } 
        }   
                                                                                           
      theParameters.setParam(1,lobPInClob);
      }   
    catch (SQLException e)   
      {           
      throw (new CSException("paramPInClob could not be loaded SQLException:" + e.toString()));   
      }          
    catch (CSException e)   
      {           
      throw (new CSException("paramPInClob could not be loaded:" + e.toString()));   
      }          
    
    theLog.debug("binding input parameter paramPInoutClob to position 2");
    try  
      {  
      if (paramPInoutClob != null || byteArrayPInoutClob != null)
        {                 
        if (lobPInoutClob == null)
          {                 
          if (createTempLobsIfNeeded)
            {                 
            lobPInoutClob = oracle.sql.CLOB.createTemporary(theConnection, true, oracle.sql.CLOB.DURATION_SESSION);
            }                 
          else
            {                 
            throw (new CSException("No LOB Pointer Provided"));
            }                 
          }                 
           
        if (   byteArrayPInoutClob != null && lobPInoutClob.length() > byteArrayPInoutClob.length      
            || paramPInoutClob != null && lobPInoutClob.length() > paramPInoutClob.length())      
          {                                                                                                                   
          lobPInoutClob.truncate(0);   
          } 
        if (byteArrayPInoutClob != null)
          {                                                                                                                   
          com.orindasoft.pub.LongObjectLoader.loadCLOB(lobPInoutClob,byteArrayPInoutClob);     
          } 
        else
          {                                                                                                                   
          com.orindasoft.pub.LongObjectLoader.loadCLOB(lobPInoutClob,paramPInoutClob,bufferSize);     
          } 
        }   
                                                                                           
      theParameters.setParam(2,lobPInoutClob);
      }   
    catch (SQLException e)   
      {           
      throw (new CSException("paramPInoutClob could not be loaded SQLException:" + e.toString()));   
      }          
    catch (CSException e)   
      {           
      throw (new CSException("paramPInoutClob could not be loaded:" + e.toString()));   
      }          
    theLog.debug("binding output parameter paramPInoutClob to position 2" );
    theParameters.setOutParam(2,OracleTypes.CLOB);
    theLog.debug("binding output parameter paramPOutClob to position 3" );
    theParameters.setOutParam(3,OracleTypes.CLOB);
    
    theLog.debug("binding input parameter paramPInBlob to position 4");
    try  
      {  
      if (paramPInBlob != null || byteArrayPInBlob != null)
        {                 
        if (lobPInBlob == null)
          {                 
          if (createTempLobsIfNeeded)
            {                 
            lobPInBlob = oracle.sql.BLOB.createTemporary(theConnection, true, oracle.sql.BLOB.DURATION_SESSION);
            }                 
          else
            {                 
            throw (new CSException("No LOB Pointer Provided"));
            }                 
          }                 
           
        if (   byteArrayPInBlob != null && lobPInBlob.length() > byteArrayPInBlob.length      
            || paramPInBlob != null && lobPInBlob.length() > paramPInBlob.length())      
          {                                                                                                                   
          lobPInBlob.truncate(0);   
          } 
        if (byteArrayPInBlob != null)
          {                                                                                                                   
          com.orindasoft.pub.LongObjectLoader.loadBLOB(lobPInBlob,byteArrayPInBlob);     
          } 
        else
          {                                                                                                                   
          com.orindasoft.pub.LongObjectLoader.loadBLOB(lobPInBlob,paramPInBlob,bufferSize);     
          } 
        }   
                                                                                           
      theParameters.setParam(4,lobPInBlob);
      }   
    catch (SQLException e)   
      {           
      throw (new CSException("paramPInBlob could not be loaded SQLException:" + e.toString()));   
      }          
    catch (CSException e)   
      {           
      throw (new CSException("paramPInBlob could not be loaded:" + e.toString()));   
      }          
    
    theLog.debug("binding input parameter paramPInoutBlob to position 5");
    try  
      {  
      if (paramPInoutBlob != null || byteArrayPInoutBlob != null)
        {                 
        if (lobPInoutBlob == null)
          {                 
          if (createTempLobsIfNeeded)
            {                 
            lobPInoutBlob = oracle.sql.BLOB.createTemporary(theConnection, true, oracle.sql.BLOB.DURATION_SESSION);
            }                 
          else
            {                 
            throw (new CSException("No LOB Pointer Provided"));
            }                 
          }                 
           
        if (   byteArrayPInoutBlob != null && lobPInoutBlob.length() > byteArrayPInoutBlob.length      
            || paramPInoutBlob != null && lobPInoutBlob.length() > paramPInoutBlob.length())      
          {                                                                                                                   
          lobPInoutBlob.truncate(0);   
          } 
        if (byteArrayPInoutBlob != null)
          {                                                                                                                   
          com.orindasoft.pub.LongObjectLoader.loadBLOB(lobPInoutBlob,byteArrayPInoutBlob);     
          } 
        else
          {                                                                                                                   
          com.orindasoft.pub.LongObjectLoader.loadBLOB(lobPInoutBlob,paramPInoutBlob,bufferSize);     
          } 
        }   
                                                                                           
      theParameters.setParam(5,lobPInoutBlob);
      }   
    catch (SQLException e)   
      {           
      throw (new CSException("paramPInoutBlob could not be loaded SQLException:" + e.toString()));   
      }          
    catch (CSException e)   
      {           
      throw (new CSException("paramPInoutBlob could not be loaded:" + e.toString()));   
      }          
    theLog.debug("binding output parameter paramPInoutBlob to position 5" );
    theParameters.setOutParam(5,OracleTypes.BLOB);
    theLog.debug("binding output parameter paramPOutBlob to position 6" );
    theParameters.setOutParam(6,OracleTypes.BLOB);
    theLog.debug("Associating parameters with statement");
    theParameters.bindParameters(theCallableStatement); 
    theLog.debug("Finished binding parameters");
    }     
            
                                                                          
   
   
  public boolean releaseResources() 
    { 
    
    theLog.debug("Attempting to release LOB's");
    if (lobPInClob != null)
      {
      lobPInClob = null; 
      }
    
    if (lobPInoutClob != null)
      {
      lobPInoutClob = null; 
      }
    
    if (lobPOutClob != null)
      {
      lobPOutClob = null; 
      }
    
    if (lobPInBlob != null)
      {
      lobPInBlob = null; 
      }
    
    if (lobPInoutBlob != null)
      {
      lobPInoutBlob = null; 
      }
    
    if (lobPOutBlob != null)
      {
      lobPOutBlob = null; 
      }
    
    
    return(super.releaseResources()); 
    } 
  
  public String getProcCallStatement()                                             
    {                                                              
    if (procCall == null)
      {                                                              
      procCall = new StringBuffer("BEGIN RECORD_TEST.LOBS_AS_NORMAL_PARAMS(P_IN_CLOB =>  ?, P_INOUT_CLOB =>  ?, P_OUT_CLOB =>  ?, P_IN_BLOB =>  ?, P_INOUT_BLOB =>  ?, P_OUT_BLOB =>  ?); END; ");
      
      }     
    return(procCall.toString());
    }     
            
} // Generated by JDBCWizard 6.0.3145 
